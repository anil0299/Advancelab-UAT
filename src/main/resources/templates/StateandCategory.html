<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CyberGyan</title>
<link rel="stylesheet" href="" th:href="@{/css/AdminHome.css}" />
<link th:href="@{/css/bootstrap.css}" rel="stylesheet">
<link th:href="@{/css/datatables.css}" rel="stylesheet">
<script type="text/javascript" th:src="@{/js/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery-3.7.1.min.js}"></script>
<script type="text/javascript" th:src="@{/js/FileSaver.min.js}"></script>
<script type="text/javascript" th:src="@{/js/tableexport.js}"></script>
<link rel="stylesheet" th:href="@{/fontawesome/css/all.min.css}">
<script src="https://www.gstatic.com/charts/loader.js"></script>
<script th:src="@{/js/chart.js}"></script>
<link rel="stylesheet" type="text/css" th:href="@{/css/datatables.css}">
<script type="text/javascript" th:src="@{/js/datatables.js}"></script>
</head>
<body style="background-color: rgb(158, 191, 251);">
    <div class="navcontainer">
        <div class="img-fluid">
            <img style="width: 90px; margin-left: 30px;" src=""
                th:src="@{/images/cdac-wo-bg.png}" alt="">
            <form th:action="@{/logout}" method="post"
                style="float: right; margin-top: 25px; margin-right: 10px">
                <a th:href="@{/welcome}" class="btn btn-primary mb-2"
                    style="margin-top: 10px;">Site Home</a> <input type="submit"
                    class="btn btn-primary" value="Logout" />
            </form>
        </div>
    </div>
    <div class="lab-desc">
        <a href="AdminHome" style="color: white; text-decoration: none;">Home</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <a class="nav-link dropdown-toggle text-white " href="#"
            id="navbarDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"> E-LAB Details </a>
        <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item " href="AddExercise">Add
                    Exercise</a></li>
            <li><a class="dropdown-item  " href="exercisedetails">View
                    Exercise details</a></li>
            <li><a class="dropdown-item" href="addvm">Add VM</a></li>
            <li><a class="dropdown-item" href="vmdetails">View VM
                    details</a></li>
            <li><a class="dropdown-item" href="LabDetails">View E-LAB
                    Details</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
        </ul>
        <a class="nav-link dropdown-toggle text-white" href="#"
            id="navbarDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"> Assignment </a>
        <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="AssignBatch">Assign Batch</a></li>
            <li><a class="dropdown-item" href="assignExercise">Assign
                    Exercise</a></li>
            <li><a class="dropdown-item" href="Batchexercise">View
                    Batchwise Exercise</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
        </ul>
        <a class="nav-link dropdown-toggle text-white" href="#"
            id="navbarDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"> Registration Approval </a>
        <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="StudentApproval">Student
                    Approval</a></li>
            <li><a class="dropdown-item" href="TeacherApproval">Teacher
                    Approval</a></li>
             <li><a class="dropdown-item" href="ManageCourseAccess">Manage
					Course Access</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
        </ul>
        <a class="nav-link dropdown-toggle text-white " href="#"
            id="navbarDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"> Center Dashboard </a>
        <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item " href="CenterDetails">Center
                    Details</a></li>
            <li><a class="dropdown-item " href="AddCourse">Add Course</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
        </ul>
        <a class="nav-link dropdown-toggle text-white " href="#"
            id="navbarDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"> Submissions </a>
        <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item " href="folders">Advance Lab</a></li>
            <li><a class="dropdown-item " href="basiclab">Basic Lab</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
        </ul>
        <a class="active" href="ExerciseCompletion" style="color: white;">
            Reports </a>
        <a class="nav-link dropdown-toggle text-white" href="#"
            id="navbarDropdown" role="button" data-bs-toggle="dropdown"
            aria-expanded="false"> Exercise Content </a>
        <ul class="dropdown-menu bg-dark" aria-labelledby="navbarDropdown">
            <li><a class="dropdown-item" href="AddExerciseContent">Add Exercise Content</a></li>
            <li><a class="dropdown-item" href="AddExerciseImage">Add Exercise Image</a></li>
            <li><a class="dropdown-item" href="updateExerciseContent">Update Exercise Content</a></li>
            <li>
                <hr class="dropdown-divider">
            </li>
        </ul>
        <a href="StudentTrackTime" style="color: white; text-decoration: none;">StudentTrackTime</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <a href="deleteAllVmDetails" style="color: white; text-decoration: none;">Delete All VM Details</a>&nbsp;&nbsp;&nbsp;&nbsp;
    </div>
    <div class="card">
            <div class="card-header" style="background-color: white;">
                <h1 style="font-family: Times New Roman;" class="text-center">
                    <b>State-wise & Category-wise Registration Status</b>
                </h1>
            </div>
            <div class="card-body" style="background-color: rgb(205, 214, 224);"
                id="printableArea">
                <div class="table-responsive">
                    <table class="table table-light table-bordered table-hover" id="export-btn">
                        <thead>
                            <tr class="table-info">
                                <th class="text-center">S.No.</th>
                                <th class="text-center">STATE</th>
                                <th class="text-center">MALE (SC)</th>
                                <th class="text-center">FEMALE (SC)</th>
								<th class="text-center" style="color: red;">TOTAL SC</th>
                                <th class="text-center"> MALE(ST)</th>
                                <th class="text-center"> FEMALE (ST)</th>
                                 <th class="text-center" style="color: red;">TOTAL ST</th>
                                <th class="text-center"> MALE (EWS)</th>
                                <th class="text-center"> FEMALE (EWS)</th>
                                 <th class="text-center" style="color: red;">TOTAL EWS</th>
                                <th class="text-center">TOTAL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="state, indexStat : ${stateCategory}" class="text-center">
                                <td th:text="${indexStat.index + 1}"></td> <!-- S.No. -->
                                <td th:text="${state[0]}"></td> <!-- State -->
                                <td th:text="${state[1]}"></td> <!-- SC Male -->
                                <td th:text="${state[2]}"></td> <!-- SC Female -->
                                <td th:text="${state[3]}"></td> <!-- SC Female -->
                                
                                
                                <td th:text="${state[4]}"></td> <!-- ST Male -->
                                <td th:text="${state[5]}"></td> <!-- ST Female -->
                                <td th:text="${state[6]}"></td> <!-- SC Female -->
                                
                                <td th:text="${state[7]}"></td> <!-- EWS Male -->
                                <td th:text="${state[8]}"></td> <!-- EWS Female -->
                                <td th:text="${state[9]}"></td> <!-- SC Female -->
                                <td th:text="${state[10]}"></td> <!-- Total -->
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="text-center">
                <button onclick="downloadExcel()" class="btn btn-primary mb-2"
                    style="margin-top: 8px;">
                    <i class="fa fa-download"></i> Download Excel
                </button>
                <a href="javascript:void(0);" class="btn btn-primary mb-2"
                    style="margin-top: 8px;" onclick="printPageArea('printableArea')">
                    <span class="glyphicon glyphicon-print" aria-hidden="true"></span>
                    Print
                </a> <a th:href="@{/ExerciseCompletion}" class="btn btn-primary mb-2"
                    style="margin-top: 8px;">Back</a>
                </div>
            </div>
        </div>
    <script type="text/javascript">
        function printPageArea(areaID) {
            var printContent = document.getElementById(areaID).innerHTML;
            var originalContent = document.body.innerHTML;
            document.body.innerHTML = printContent;
            window.print();
            document.body.innerHTML = originalContent;
        }
    </script>
    <script>
        function downloadExcel() {
            var table = document.getElementById("export-btn");
            var rows = table.getElementsByTagName("tr");
            var csv = [];
            for (var i = 0; i < rows.length; i++) {
                var row = [],
                cols = rows[i].querySelectorAll("td, th");
                for (var j = 0; j < cols.length; j++)
                    row.push(cols[j].innerText);
                csv.push(row.join(","));
            }
            var downloadLink = document.createElement("a");
            var blob = new Blob(["\ufeff", csv.join("\n")], {
                type: "text/csv;charset=utf-8"
            });
            var url = URL.createObjectURL(blob);
            downloadLink.href = url;
            downloadLink.download = "data.csv";
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        }
    </script>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div class="class-footer">
        <p
            style="font-family: Times New Roman; text-align: center; color: white; font-size: 18px;">
            <b>Copyright &copy; 2022 
        </p>
        <p
            style="font-family: Times New Roman; text-align: center; color: white; font-size: 18px;">Designed
            and Developed by CDAC</p>
    </div>
    <script>
        $(document).ready(function() {
            $('#export-btn').DataTable({
                aLengthMenu: [
                    [25, 50, 100, 200, -1],
                    [25, 50, 100, 200, "All"]
                ],
                iDisplayLength: -1
            });
        });
    </script>
</body>
</html>
